<!DOCTYPE html>

<html layout:decorate="layout/default_layout" xmlns="http://www.w3.org/1999/html"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    
    <link rel="stylesheet" th:href="@{/css/register.css}" type="text/css"/>
    <script>
    function readImage(input) {
    if(input.files && input.files[0]) {
        // 이미지 파일인지 검사 (생략)
        // FileReader 인스턴스 생성
        const reader = new FileReader()
        // 이미지가 로드가 된 경우
        reader.onload = e => {
            const previewImage = document.getElementById("preview-image")
            previewImage.src = e.target.result
        }
        // reader가 이미지 읽도록 하기
        reader.readAsDataURL(input.files[0])
    }
}
// input file에 change 이벤트 부여
const inputImage = document.getElementById("input-image")
inputImage.addEventListener("change", e => {
    readImage(e.target)
})


    
    </script>
</head>
<body>
<div class="row justify-content-center items-center" layout:fragment="content" style="width:100vw; height:100vh">
    
    <form action="/register/register" method="post" role="form" th:object="${UserInfoDTO}">
        <table width="1000px">
            <tr>
                <div>
                    <img class="profile" id="preview-image" src="profile.png" style="width: 150px;">
                    <label>프로필사진</label>
                    <input id="input-image" type="file">
                </div>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <label th:for="usernickname">닉네임</label>
                        <input class="form-control" placeholder="닉네임를 입력하세요" th:class="${#fields.hasErrors('usernickname')}? 'form-control fieldError' : 'form-control'" th:field="*{usernickname}"
                               type="text">
                        <p th:errors="*{usernickname}" th:if="${#fields.hasErrors('usernickname')}">Incorrect data</p>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label>이름</label>
                        <input name="username" placeholder="아이디를 입력해주세요." th:class="${#fields.hasErrors('username')}? 'form-control fieldError' : 'form-control'" th:field="*{username}"
                               type="text">
                        <p th:errors="*{username}" th:if="${#fields.hasErrors('username')}">Incorrect data</p>
                    </div>
                </td>
            </tr>
            
            <tr>
                <td>
                    <div>
                        <label>아이디</label>
                        <input id="userid" name="userid" size="20px" type="text"/>
                        <input id="check" type="button" value="중복확인"/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="userpassword">비밀번호</label>
                        <input id="userpassword" name="userpassword" size="20px" type="text"/>
                        *영문 대소문자/숫자/특수문자를 혼용하여 2종류10~16자 또는 3종 8~16자
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="userpasswordCheck">비밀번호 확인</label>
                        <input id="userpasswordCheck" name="userpasswordCheck" size="20px" type="text"/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        생일/성별
                        <input name="gender" type="radio" value="남"/>남
                        <input checked name="gender" type="radio" value="여"/>여
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="postcode">우편번호</label>
                        <input id="postcode" name="postcode" size="5" type="text"/>
                        <input id="address" type="button" value="우편번호검색"/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="userhome">집주소</label>
                        <input id="userhome" name="userhome" size="60" type="text"/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="userhomeAddress">상세주소</label>
                        <input id="userhomeAddress" name="userAddress" size="60" type="text"/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="phone">연락처</label>
                        
                        <select id="phone1">
                            <option value=""></option>
                            <option value="010">010</option>
                        
                        </select>
                        <input id="phone" name="phone" size="10" type="text">-
                        <input id="phone2" name="phone" size="10" type="text">
                        <input id="check4" type="button" value="휴대폰인증">
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        <label for="email">이메일</label>
                        
                        <input id="email" name="email" size="10" type="text">@
                        <select id="email2">
                            <option value=""></option>
                            <option value="1">google.com</option>
                            <option value="2">naver.com</option>
                            <option value="3">daum.net</option>
                        </select>
                        <input id="check3" type="button" value="중복확인"></input>
                    </div>
                </td>
            </tr>
        
        </table>
        <button type="submit" class="btn btn-primary">회원가입</button>
    </form>
</div>
</body>
</html>